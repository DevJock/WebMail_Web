<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Conversation</title>
    </h:head>
    <h:body>
        <center><h1><div style="font-size: 80px;">Conversation</div><div style="font-size: 100px;">&#x1F4EE;</div></h1></center>
       <h:form style="margin: auto;width: 80%;border: 3px solid black;padding: 30px;">
           <div style="float: left; padding: 30px;">
               <h:commandButton style="background-color: #4CAF50; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none;
                display: inline-block; font-size: 16px; padding: 10px;" id="inbox" value="Inbox" action="account.xhtml" />
               &nbsp;
               <h:commandButton style="background-color: #008CBA; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none;
                display: inline-block; font-size: 16px; padding: 10px;" id="sent" value="View Sent"
                                action="sent.xhtml" />
                &nbsp;
                <h:commandButton style="background-color: #008CBA; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none;
                    display: inline-block; font-size: 16px; padding: 10px;" id="trash" value="View Trash"
                                    action="trash.xhtml" />
           </div>
           <div style="float: right;padding: 30px;">
               <h:commandButton style="background-color: #f44336; border: none; color: white; padding: 15px 32px; text-align: center; text-decoration: none;
                display: inline-block; font-size: 16px; padding: 10px;" id="logout" value="Log Out"
                action="#{webMail.signOut()}" />
           </div>
           <div style="display: inline-block; padding: 10px; height: 90%; width:85%">
               <center>
               <br/><br/>
               <div style="font-size: 25px; font-weight: bold; text-align: center;">Conversation between #{webMail.account.name} and #{webMail.getNameForEmailID(webMail.email.from)}</div>
               <br/><br/>
               <div style="font-size: 20px; font-weight: bold; text-align: center;">Subject: #{webMail.email.subject}</div>
               <br/><br/>
               <h:dataTable style="padding: 10px; width: 90%;" id="conversation" 
                         rows ="#{webMail.conversationBox.size()}" 
                         value="#{webMail.conversationBox}" var="emailObj">  
                         
                <h:column>
                <div style="width: 90%; height:100px; border: 3px solid black;padding: 50px; text-align: center; vertical-align: middle;">
                    <div style="font-size: 72px;float: left;">&#x1F4E7;</div>
                    <h2>#{webMail.getNameForEmailID(emailObj.from)} --> #{webMail.getNameForEmailID(emailObj.to)}</h2>&nbsp;
                    <h:commandLink style="font-size: 25px; padding: 25px; float: left; text-align: center; vertical-align: middle;" value="#{emailObj.message}"
                                   action="#{webMail.getConversationEmailByID(emailObj.ID)}"/>
                </div>
                </h:column>
            </h:dataTable>
               </center>
           </div>
        </h:form>
    </h:body>
</html>

